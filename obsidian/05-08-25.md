
---

## 1. **Fundamentals: CUSUM and EWMA**

### 1.1 CUSUM (Cumulative Sum Control Chart)

#### Definition

CUSUM detects changes by monitoring the cumulative sum of deviations from a reference value (typically the historical mean). When this cumulative sum surpasses a predefined threshold, a change is signaled.

#### Key Features

- Highly effective at detecting **small but persistent shifts** in data.
    
- **Statistically optimal** when the magnitude of the change is known.
    
- **Performance deteriorates** when the actual shift differs from expected.
    

#### Notable Variants

- **Adaptive CUSUM**: Dynamically learns and updates the reference value.
    
- **Kernel CUSUM**: Uses kernel methods to handle non-Gaussian, non-linear data.
    
- **FOCuS (Functional CUSUM)**: Optimized for data streams.
    
- **Multi-CUSUM**: Deploys multiple detectors for various change magnitudes.
    

---

### 1.2 EWMA (Exponentially Weighted Moving Average)

#### Definition

EWMA is a weighted moving average algorithm that gives more importance to recent data points. It tracks deviations from a smoothed mean to detect shifts.

#### Key Features

- Effective at identifying **small-to-moderate changes**.
    
- **More robust than CUSUM** in cases of uncertain shift magnitudes.
    
- Exhibits **initial lag**, delaying early change detection.
    

---

## 2. **Why CUSUM and EWMA Are Online and Unsupervised**

###  Online (Streaming-Based)

These algorithms update their internal statistics **in real-time** without needing to store the entire historical dataset. This makes them ideal for high-throughput data streams, such as real-time crime monitoring.

### Unsupervised (No Labels Required)

They do not rely on labeled training data (i.e., no need for "change" vs "no change" examples). Instead, they operate on **internal statistical heuristics**, detecting anomalies autonomously.

---

## 3. **Evaluation: Key Performance Metrics**

| Metric                       | Description                                           |
| ---------------------------- | ----------------------------------------------------- |
| **Detection Delay**          | Time lag between the actual change and its detection. |
| **False Alarm Rate (FAR)**   | Percentage of false positives among all alarms.       |
| **Average Run Length (ARL)** | Average time between false alarms.                    |
| **Precision / Recall**       | For binary classification: "change" vs "no change".   |
| **F1 Score / AUC-PR**        | When using probabilistic or soft detectors.           |

---

## 4. **Key Parameters and Optimization Strategies**

|            |                          |                                                           |                                               |
| ---------- | ------------------------ | --------------------------------------------------------- | --------------------------------------------- |
| Algorithm  | Parameter                | Effect                                                    | Tuning Recommendation                         |
| **CUSUM**  | `k` (reference value)    | Controls sensitivity to deviations                        | Estimate as half the expected shift magnitude |
|            | `H` (decision threshold) | Influences detection delay and false alarms               | Calibrate using ARL or simulation             |
| **EWMA**   | `λ` (smoothing factor)   | Low values yield stable signals; high values react faster | Typical range: 0.1 – 0.3                      |
|            | `L` (control limit)      | Defines alert boundaries                                  | Adjust based on tolerance to false positives  |
| **Hybrid** | Multi-CUSUM / EWMA-CUSUM | Combines multiple strengths                               | Effective for unknown or multi-scale shifts   |

---

## 5. **Advanced Methods for Investigation**

|   |   |   |
|---|---|---|
|Category|Algorithm|Application Scope|
|Probabilistic|**BOCPD (Bayesian Online Change Point Detection)**|Detects change points with uncertainty modeling|
|Scalable smoothing|**NEWMA**|Computationally efficient version of EWMA|
|Non-parametric|**Kernel CUSUM / MMD-based detectors**|Suitable for complex or distributional changes|
|Regime-switching|**HMMs (Hidden Markov Models)**|Ideal for detecting latent structural transitions|

---

## 6. **Development and Optimization Pipeline**

### Pipeline Phases:

- **Baseline Implementation**: Develop standard CUSUM, EWMA, BOCPD, and NEWMA.
    
- **Synthetic Simulation**: Generate time series with labeled synthetic changes.
    
- **Hyperparameter Tuning**: Use grid search or Bayesian optimization (e.g., with Optuna).
    
- **Backtesting**: Evaluate algorithms on sliding or rolling windows.
    
- **Visualization**: Develop real-time dashboards for data and alert inspection.
    

###  Recommended Tools:

- Detection: `ruptures`, `river`, `alibi-detect`, `scikit-multiflow`, `darts`
    
- Optimization: `Optuna`, `Ray Tune`
    
- Simulation: `Apache Kafka`, `Redis Streams`
    
- Visualization: `Streamlit`, `Plotly Dash`, `Kepler.gl`
    

---

## 7. **Fundamental Concepts for Deep Study**

|                                             |                                                                        |
| ------------------------------------------- | ---------------------------------------------------------------------- |
| Concept                                     | Importance                                                             |
| **Distribution Shifts**                     | Differentiate between changes in mean, variance, or full distribution. |
| **Cost Functions**                          | Core of algorithms like Binary Segmentation or PELT.                   |
| **Kullback-Leibler & Fisher Information**   | Foundational for probabilistic detection.                              |
| **Regularization Methods (AIC, BIC, TV)**   | Prevent overfitting while detecting changes.                           |
| **Kernel Methods / RKHS**                   | Underpin non-linear change detection (e.g., MMD).                      |
| **Temporal Sequence Modeling (HMMs, LSTM)** | Capture latent dynamics and regime shifts.                             |
|                                             |                                                                        |

---

Read more: 
- https://blog.stackademic.com/the-cusum-algorithm-all-the-essential-information-you-need-with-python-examples-f6a5651bf2e5 
- https://medium.com/@polanitzer/building-an-ewma-model-in-python-step-by-step-in-python-c9ae59628709
- https://arxiv.org/html/2407.05976v1
- https://www.researchgate.net/publication/385129786_Scalable_Algorithms_for_Real-Time_Change_Point_Detection_in_Streaming_Covariates
- https://www.sciencedirect.com/science/article/pii/S2405896320302044?via%3Dihub
- https://www.jmlr.org/papers/volume24/21-1230/21-1230.pdf
- https://github.com/SeldonIO/alibi-detect
- https://riverml.xyz/latest

